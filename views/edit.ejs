<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown Editor</title>
    <link rel="stylesheet" href="../css/w3.css">
    <link rel="stylesheet" href="../css/markdown.css">
</head>

<body>
    <main class="content">
        <div class="w3-row w3-content">
            <div class="w3-col l12 m12">
                <div class="w3-bar">
                    <button class="w3-bar-item w3-button tablink w3-white"
                        onclick="openTab(event,'markdownInputDiv')">Text</button>
                    <button class="w3-bar-item w3-button tablink"
                        onclick="openTab(event,'markdownPreviewDiv')">Preview</button>
                </div>
                <form method="post">
                    <div id="markdownInputDiv" class="markdownEditor">
                        <div class="w3-row">
                            <div class="w3-col l6 m6">
                                <textarea oninput="convertToHTML()" name="markdownInput" id="markdownInput"><% if(typeof editSelect !== 'undefined'){%> <%= editSelect[0].markdown.trim() %><% } %></textarea>  
                            </div>
                            <div class="w3-col l6 m6">
                                <div id="markdownPreview">
                                    &nbsp;
                                </div>
                            </div>
                        </div>

                    </div>

                    <div id="markdownPreviewDiv" class="markdownEditor" style="display:none">
                        <div id="markdownPreviewTab">
                            &nbsp;
                        </div>
                    </div>
                    <p>
                    <div class="w3-row w3-content">
                        <% if(typeof saveError !== 'undefined'){ %>
                            <p style="color: red; font-family: calibri, serif; font-size: 17px"><%= saveError %></p>
                            <% } %> 
                            <% if(typeof deleteError !== 'undefined'){ %>
                                <p style="color: red; font-family: calibri, serif; font-size: 17px"><%= deleteError; %></p>
                                <% } %> 
                        <div class="w3-col" style="width:33%">
                            <input type="text" placeholder="Enter edit code" class="w3-input" name="editCode" required="required">
                        </div>
                        <div class="w3-col" style="width:0.5%">&nbsp;</div>
                        <div class="w3-col w3-center" style="width:33%">
                            <input type="text" placeholder="New edit code - optional" class="w3-input" name="newEditCode">
                        </div>
                        <div class="w3-col" style="width:0.5%">&nbsp;</div>
                        <div class="w3-col" style="width:33%">
                            <input type="text" placeholder="New url - optional" class="w3-input" name="newUrl">
                        </div>
                    </div>
                    </p>
                    
                    <div class="w3-row w3-content">
                        <div class="w3-col l3 m3">
                            <input type="submit" class="w3-button w3-green w3-left" value="Save" name="saveBtn">
                        </div>
                        
                        <div class="w3-col l3 m3">
                            &nbsp;
                        </div>
                        <div class="w3-col l3 m3">
                            &nbsp;
                        </div>
                        <div class="w3-col l3 m3">
                            <input type="submit" class="w3-button w3-red w3-right" value="Delete" name="deleteBtn">
                        </div>
                    </div>
                    
                </form>
            </div>

        </div>

    </main>
    <footer>
        <p class="w3-center w3-small"><a href="/" class="w3-link w3-text-blue">new</a></p>
        <p class="w3-center w3-small">Markdown Editor &copy; <%= new Date().getFullYear() %></p>
    </footer>

    <script src="../js/showdown.min.js"></script>
    <script src="../js/markdownconverter.js"></script>
</body>

</html>